# FRIA CONCEPT
## 组件
| 组件名称       | 作用           | 要求  |
| ------------- |:-------------:| -----:|
| 通信组件       | 提供调用接口| requestId, status,并实现 Spring MVC 的前端控制器的功能 |
| 分布式文件服务器       | 提供存取图片接口|  |
| 算法模块与人脸识别服务 | 提供比对调用的接口 |
| Java 模块 | 基础信息的操作、比对信息的推送、会话管理 | 
## 开发文档
* 系统组件协作文档
* 代码规范文档
## 维护文档
* 提供 javadoc 文档
* 提供接口调用文档，以 javadoc 生成

## 功能需求描述
* 系统登录
* 自然人基础信息查询
* 实时建模
* 以脸搜脸
* 单张建模
* 批量建模
* 实时布控
* 1:1比对
* 1:N比对
* 比对历史查询
* 比对信息推送与邮件报警
* 人脸库的权限：当多个部门共同使用一套系统时，不同部门之间不可相互操作各自的人脸库（数据）；所谓的操作，包含了查询显示模板、查询显示人脸库、增加或删除模板，删除人脸库等

## 系统需求描述
* 通信状态描述
* 异常机制
* 日志机制

## 辅助需求描述
* 操作文档

## 用户等级划分
* 超级管理员：拥有所有权限
* 管理员：拥有部分或全部管理权限
* 普通用户：拥有指定的部分资源权限

要点：
* 一人多模板
* 人脸关联性分析：找出与比中人员同时出现在摄像头下的相关人员。需要搞清楚，该功能是与实时布控相关，还是与以脸搜脸相关。另外，关联性指的是时间上的关联性，还是同一张照片的关联性。
* 人脸关联性分析的目标是：找出与比中人脸存在关系（时间/同一照片）的身份信息。
## 7月任务安排
* NEC Oracle 算法数据库与系统 Oracle 业务数据库的合并研究与实现工作
* Java 服务新建分支-重写核心服务类
* 系统引入分布式图片服务器
* 系统 Socket 通信协议升级实现（带有会话ID、会话状态等）
* 系统需求文档整理工作
* 腾科培训事项(OCP/RHCE)

## 实时布控与以脸搜脸的业务区别
实时的概念：两者都含有实时的概念，不同的是，实时布控指的是实时比对，以脸搜脸指的是实时建模。
人脸库：两者的人脸库都是在比对之前就已经创建好的，不同的是，实时布控通常是使用系统提供的批量建模工具建模，以脸搜脸则是使用摄像枪的 SDK 进行前端建模。
比对的时机：实时布控是实时比对，以脸搜脸则是在用户有需求时，自行使用人脸模板进行比对。

## Java 服务会话的管理
### 为什么要进行会话的管理
一个会话代表着某一特定用户与 Java 服务之间进行的交流。
在系统运行过程中，Java 服务有时需要对某些用户执行一些特别的操作，这个时候可以通过用户与 Java 服务之间会话进行。

## 告警的级别
建模、比对、告警是智能分析平台的核心功能。不同的人脸库应该存在不同程度级别的重要性，也就是说，不同的人脸库发生告警时，系统应当采用合适的方式告知用户事态的严重性。

## 比对日志保存
考虑将三个表合成一个表来使用。
在 BdLogFaceResultDO 中添加 BdLogDO　和　BdLogFaceDO 的图片路径，同时添加 BdLogDO 的对应编码和
BdLogFaceDO 的对应编码。

之所以考虑对应编码的原因是，图片路径是字符串，字符串来进行比较的效率没有对应的数值型编码快。（待验证）。


## 分页功能
系统如果提供一个统一的处理分页的类，那么千万不要设置查询的默认页码和每页的默认记录数，因为很有可能有些查询是不需要分页功能的。
